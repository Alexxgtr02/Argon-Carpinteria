<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARGON | Confirmar Orden</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Outfit', sans-serif; }
        
        /* Animaci√≥n de √©xito para el feedback visual */
        .btn-success {
            background-color: #059669 !important; /* Verde esmeralda */
            transform: scale(0.95);
        }
    </style>
</head>
<body class="bg-zinc-100 min-h-screen flex items-center justify-center p-4">

    <div class="max-w-xl w-full bg-white rounded-[2.5rem] shadow-2xl overflow-hidden">
        <div class="bg-zinc-900 text-white p-8 text-center">
            <h1 class="text-2xl font-bold italic tracking-tighter">CONFIRMAR PEDIDO ARGON</h1>
        </div>

        <div class="p-8 space-y-6">
            <img id="c-img" class="w-full h-48 object-cover rounded-2xl shadow-lg bg-zinc-200" alt="Vista previa mueble">
            
            <div class="text-center">
                <h2 id="c-nombre" class="text-2xl font-bold text-zinc-800 italic uppercase"></h2>
                <p class="text-4xl font-black text-amber-900 mt-2">
                    <span id="c-total"></span> <small class="text-sm">CUP</small>
                </p>
            </div>

            <div class="bg-zinc-50 rounded-2xl p-6 border border-zinc-100 grid grid-cols-2 gap-4 text-sm">
                <div><p class="text-zinc-400 font-bold uppercase text-[10px]">Opci√≥n 1</p><p id="c-p1" class="font-semibold text-zinc-700"></p></div>
                <div><p class="text-zinc-400 font-bold uppercase text-[10px]">Opci√≥n 2</p><p id="c-p2" class="font-semibold text-zinc-700"></p></div>
                <div><p class="text-zinc-400 font-bold uppercase text-[10px]">Opci√≥n 3</p><p id="c-p3" class="font-semibold text-zinc-700"></p></div>
                <div><p class="text-zinc-400 font-bold uppercase text-[10px]">Opci√≥n 4</p><p id="c-p4" class="font-semibold text-zinc-700"></p></div>
            </div>

            <button id="btn-add" onclick="a√±adirAlCarrito()" class="w-full bg-amber-600 hover:bg-amber-700 text-white py-5 rounded-2xl font-bold text-xl shadow-lg transition-all duration-300 active:scale-95 flex items-center justify-center gap-3">
                <span id="btn-icon">üõí</span> <span id="btn-text">A√±adir al Carrito</span>
            </button>
            
            <a href="index.html" class="block text-center text-zinc-400 text-sm font-medium hover:text-zinc-600">Cancelar y volver</a>
        </div>
    </div>

    <script>
        const params = new URLSearchParams(window.location.search);

        document.getElementById('c-nombre').innerText = params.get('nombre') || 'Mueble Argon';
        document.getElementById('c-total').innerText = params.get('total') || '0';
        document.getElementById('c-p1').innerText = params.get('p1') || 'No definido';
        document.getElementById('c-p2').innerText = params.get('p2') || 'No definido';
        document.getElementById('c-p3').innerText = params.get('p3') || 'No definido';
        document.getElementById('c-p4').innerText = params.get('p4') || 'No definido';
        
        const imgPath = params.get('img') || 'https://images.unsplash.com/photo-1533090161767-e6ffed986c88?auto=format&fit=crop&q=80';
        document.getElementById('c-img').src = imgPath;

        function a√±adirAlCarrito() {
            // --- FEEDBACK T√ÅCTIL (Vibraci√≥n) ---
            if ("vibrate" in navigator) {
                // Una vibraci√≥n corta de 50 milisegundos
                navigator.vibrate(50);
            }

            // --- FEEDBACK VISUAL ---
            const btn = document.getElementById('btn-add');
            const btnText = document.getElementById('btn-text');
            const btnIcon = document.getElementById('btn-icon');
            
            btn.classList.add('btn-success');
            btnText.innerText = "¬°A√±adido!";
            btnIcon.innerText = "‚úÖ";

            const item = {
                nombre: document.getElementById('c-nombre').innerText,
                detalles: `Mod: ${document.getElementById('c-p1').innerText} | ${document.getElementById('c-p2').innerText} | ${document.getElementById('c-p3').innerText} | ${document.getElementById('c-p4').innerText}`,
                precio: document.getElementById('c-total').innerText,
                categoria: "Personalizado"
            };

            let carrito = JSON.parse(localStorage.getItem('carritoArgon')) || [];
            carrito.push(item);
            localStorage.setItem('carritoArgon', JSON.stringify(carrito));

            // Esperar un momento para que el usuario vea el cambio antes de redirigir
            setTimeout(() => {
                window.location.href = 'carrito.html';
            }, 800);
        }
    </script>
</body>
</html>